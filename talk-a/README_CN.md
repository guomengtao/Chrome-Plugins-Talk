# Chrome 扩展程序聊天

一组 Chrome 扩展程序，允许它们之间进行多向通信。消息存储在本地，可以在扩展程序 A、B 和 C 之间交换。

[English](README.md) | [日本語](README_JA.md)

## 功能特点

### Talk-A（紫色徽章）和 Talk-B（绿色徽章）
- 扩展程序之间的消息收发
- 扩展图标上的实时消息计数徽章
- 使用 Chrome Storage API 进行本地消息存储
- 消息操作功能：
  - 发送新消息
  - 删除单条消息
  - 清除所有消息
  - 查看消息历史
- 自动更新徽章计数：
  - 收到新消息时
  - 删除消息时
  - 清除所有消息时

### Talk-C（橙色徽章）- 管理扩展
- Talk-A 和 Talk-B 的中央管理界面
- 合并显示两个扩展的消息
- 实时消息监控
- 消息操作功能：
  - 查看两个扩展的所有消息
  - 删除任一扩展的消息
  - 清除两个扩展的所有消息
- 高级功能：
  - 每30秒自动刷新徽章计数
  - 按来源筛选消息（A 或 B）
  - 显示两个扩展的总消息数
  - 消息变化时实时更新徽章

## 徽章系统
- Talk-A：紫色徽章 (#9c27b0)，显示其消息数量
- Talk-B：绿色徽章 (#4caf50)，显示其消息数量
- Talk-C：橙色徽章 (#ff5722)，显示来自 A 和 B 的总消息数量

## 安装方法

1. 克隆此仓库
2. 打开 Chrome 浏览器，访问 `chrome://extensions/`
3. 启用"开发者模式"
4. 点击"加载已解压的扩展程序"，选择 `talk-a` 文件夹
5. 重复步骤 4，选择 `talk-b` 文件夹
6. 重复步骤 4，选择 `talk-c` 文件夹
7. 记下扩展程序 ID 并在代码中更新

## 使用方法

### 基本操作
1. 点击 Chrome 工具栏中的任意扩展图标（Talk-A、Talk-B 或 Talk-C）
2. 在输入框中输入消息
3. 点击"发送"将消息发送给其他扩展
4. 消息将显示在所有扩展程序的弹出窗口中

### 消息管理
- **查看消息**：
  - 使用 Talk-A 或 Talk-B 查看各自的消息
  - 使用 Talk-C 查看两个扩展的所有消息
- **删除消息**：
  - 点击消息旁的"删除"按钮删除单条消息
  - 使用"清除全部"删除所有消息
- **消息筛选**（仅限 Talk-C）：
  - 使用标签页按来源筛选消息（全部/A/B）
- **徽章计数器**：
  - 每个扩展在图标上显示其消息数量
  - 消息变化时自动更新数字
  - Talk-C 显示来自 A 和 B 的总消息数

## 技术细节
- 使用 Chrome Extension Messaging API 进行通信
- 使用 Chrome Storage API 实现消息持久化
- 使用事件监听器实现实时更新
- 异步消息处理
- 跨扩展程序通信安全
- 自动徽章计数器更新